# CursorのターミナルでPowerShellエラーが発生した場合の解決方法

## 問題

Cursorのターミナルで`npm run dev`を実行すると、以下のようなエラーが出る：

```
npm : このシステムではスクリプトの実行が無効になっているため、ファイル C:\Program Files\nodejs\npm.ps1 を読み込むことができません。
```

## 原因

PowerShellの実行ポリシーが原因です。PowerShellではスクリプトの実行が制限されているため、`npm`コマンドが実行できません。

## 解決方法: ターミナルをコマンドプロンプトに切り替える

### Step 1: ターミナルをコマンドプロンプトに切り替える

1. **Cursorのターミナルウィンドウを見る**
   - 画面下部にターミナルが表示されているはずです

2. **ターミナルの右上を確認**
   - `+` ボタンの横に **`▼`**（下向き矢印）があるはずです
   - または、ターミナルのタイトルバーに「PowerShell」や「1: powershell」と表示されているはずです

3. **`▼`（下向き矢印）をクリック**
   - メニューが表示されます

4. **「コマンド プロンプト」または「Command Prompt」を選択**
   - メニューから選択すると、ターミナルがコマンドプロンプト（cmd.exe）に切り替わります
   - プロンプトが `C:\Users\taka-\...>` のようになれば成功です

### Step 2: プロジェクトディレクトリに移動

1. **現在のディレクトリを確認**
   - ターミナルに表示されているパスを確認
   - 以下のようなパスになっているはずです：
     ```
     C:\Users\taka-\OneDrive\デスクトップ\project\survey-app>
     ```

2. **正しいディレクトリにいない場合**
   - 以下のコマンドを実行：
     ```cmd
     cd C:\Users\taka-\OneDrive\デスクトップ\project\survey-app
     ```

### Step 3: 開発サーバーを起動

1. **以下のコマンドを実行**
   ```cmd
   npm run dev
   ```

2. **起動を確認**
   - ターミナルに以下のような表示が出れば起動成功です：
     ```
     ▲ Next.js 16.1.1 (Turbopack)
     - Local:         http://localhost:3000
     - Network:       http://192.168.x.x:3000
     ✓ Starting...
     ✓ Ready in Xms
     ```

## 別の方法: 新しいターミナルを開く

ターミナルを切り替えられない場合は、新しいターミナルをコマンドプロンプトで開くこともできます：

1. **ターミナルを閉じる**
   - ターミナル右上の「×」をクリック

2. **新しいターミナルを開く**
   - 「表示」→「ターミナル」
   - または、キーボードショートカット: `Ctrl + Shift + `（バッククォート）

3. **コマンドプロンプトを選択**
   - 新しいターミナルが開いたら、`▼`（下向き矢印）をクリック
   - 「コマンド プロンプト」を選択

## 確認チェックリスト

- [ ] ターミナルをコマンドプロンプト（cmd）に切り替えた
- [ ] プロジェクトディレクトリ（`survey-app`）にいることを確認した
- [ ] `npm run dev`を実行した
- [ ] エラーが出ずに、ターミナルに「✓ Ready」というメッセージが表示された

## トラブルシューティング

### まだエラーが出る場合

1. **ターミナルを完全に閉じて、新しいターミナルを開く**
2. **Cursorを再起動する**
3. **直接コマンドプロンプトを開く**:
   - Windowsのスタートメニューから「コマンドプロンプト」または「cmd」を検索して起動
   - 以下のコマンドを実行：
     ```cmd
     cd C:\Users\taka-\OneDrive\デスクトップ\project\survey-app
     npm run dev
     ```



