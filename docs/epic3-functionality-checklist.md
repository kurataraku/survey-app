# Epic3 機能確認チェックリスト

このチェックリストを使用して、実装された機能が正しく動作するか確認してください。

## ✅ 基本確認（完了済み）

- [x] 依存関係のインストール（react-markdown, remark-gfm）
- [x] データベーススキーマの作成（articles, article_schoolsテーブル）
- [x] 開発サーバーの起動
- [x] 各ページの表示確認

---

## 📝 記事管理機能（CMS）

### 記事一覧ページ (`/admin/articles`)

- [ ] 記事一覧が正しく表示される
- [ ] 「新規作成」ボタンが表示される
- [ ] 検索機能が動作する（タイトルで検索）
- [ ] カテゴリフィルタが動作する
- [ ] ページネーションが動作する（記事が多い場合）

### 記事作成ページ (`/admin/articles/new`)

- [ ] タイトルを入力すると、スラッグが自動生成される
- [ ] スラッグを手動で編集できる
- [ ] カテゴリを選択できる（interview/useful_info）
- [ ] Markdown形式で本文を入力できる
- [ ] 抜粋、アイキャッチ画像URL、SEO設定が入力できる
- [ ] 公開フラグを設定できる
- [ ] 「保存」ボタンをクリックすると記事が作成される
- [ ] 作成後、記事編集ページにリダイレクトされる

### 記事編集ページ (`/admin/articles/[id]/edit`)

#### 基本情報タブ

- [ ] 既存の記事情報が正しく表示される
- [ ] タイトル、スラッグ、カテゴリ、本文などを編集できる
- [ ] 「保存」ボタンで変更が保存される
- [ ] 保存後、変更が反映される

#### 関連学校タブ

- [ ] 記事に紐づく学校一覧が表示される
- [ ] 学校を検索して追加できる
- [ ] 追加時に表示順とコメントを設定できる
- [ ] 学校の表示順を上下に移動できる（↑↓ボタン）
- [ ] 学校のコメントを編集できる
- [ ] 学校を削除できる（確認ダイアログが表示される）
- [ ] 変更が正しく保存される

### 記事削除機能

- [ ] 記事一覧ページで「削除」ボタンをクリックすると確認ダイアログが表示される
- [ ] 確認後、記事が削除される
- [ ] 削除後、記事一覧から該当記事が消える

---

## 🏫 学校管理機能（CMS）

### 学校一覧ページ (`/admin/schools`)

- [ ] 学校一覧が正しく表示される
- [ ] 各学校の公開/非公開状態が表示される
- [ ] 口コミ数が表示される
- [ ] 検索機能が動作する（学校名で検索）
- [ ] ページネーションが動作する

### 学校編集ページ (`/admin/schools/[id]/edit`)

#### 基本情報タブ

- [ ] 既存の学校情報が正しく表示される
- [ ] 学校名、都道府県、スラッグを編集できる
- [ ] 学校名を変更すると、スラッグが自動生成される（手動編集していない場合）
- [ ] 紹介文を編集できる
- [ ] 特徴・推しポイントを追加・編集・削除・並び替えできる
- [ ] FAQ（質問と回答）を追加・編集・削除・並び替えできる
- [ ] 公開フラグを設定できる
- [ ] 「保存」ボタンで変更が保存される

#### 口コミ管理タブ

- [ ] 学校に紐づく口コミ一覧が表示される
- [ ] フィルタ（すべて/採用中/不採用）が動作する
- [ ] 各口コミの詳細情報（評価、コメント、投稿日時など）が表示される
- [ ] 「採用中」/「不採用」ボタンをクリックすると、公開フラグが切り替わる
- [ ] ページネーションが動作する（口コミが多い場合）

---

## 📰 フロントエンド（特集ページ）

### 特集ページ一覧 (`/features`)

- [ ] 公開されている記事一覧が表示される
- [ ] 非公開の記事は表示されない
- [ ] カテゴリタブ（すべて/リアル体験談/お役立ち情報）が動作する
- [ ] カテゴリでフィルタリングが正しく動作する
- [ ] 記事カードにタイトル、カテゴリ、抜粋、公開日が表示される
- [ ] アイキャッチ画像がある場合は表示される
- [ ] ページネーションが動作する（記事が多い場合）
- [ ] 記事カードをクリックすると記事詳細ページに遷移する

### 記事詳細ページ (`/features/[slug]`)

- [ ] 記事のタイトル、カテゴリ、公開日が表示される
- [ ] アイキャッチ画像がある場合は表示される
- [ ] 抜粋が表示される
- [ ] Markdown形式の本文が正しくレンダリングされる
  - [ ] 見出し（h1, h2, h3）が正しく表示される
  - [ ] リスト（ul, ol）が正しく表示される
  - [ ] 太字、リンクが正しく表示される
  - [ ] コードブロックが正しく表示される
- [ ] 関連学校セクションが表示される（関連学校がある場合）
- [ ] 関連学校の学校カードが表示される
- [ ] 関連学校のコメント（note）が表示される
- [ ] 関連学校のカードをクリックすると学校詳細ページに遷移する
- [ ] 「特集ページ一覧に戻る」リンクが動作する

---

## 🔗 データ整合性の確認

### 記事と学校の関連付け

- [ ] 記事に学校を追加すると、`article_schools`テーブルに正しく保存される
- [ ] 記事を削除すると、関連付けも自動的に削除される（CASCADE）
- [ ] 学校を削除すると、関連付けも自動的に削除される（CASCADE）
- [ ] 同じ記事に同じ学校を重複して追加できない

### 公開/非公開の制御

- [ ] 非公開の記事は`/features`に表示されない
- [ ] 非公開の記事は`/features/[slug]`で直接アクセスしても404エラーになる
- [ ] 管理画面では非公開の記事も表示される
- [ ] 口コミの`is_public`フラグを変更すると、学校の平均評価が正しく再計算される（次回取得時）

---

## 🐛 エラーハンドリングの確認

### 記事管理

- [ ] 必須フィールド（タイトル、スラッグ、カテゴリ）が空の場合、エラーメッセージが表示される
- [ ] 重複するスラッグで記事を作成しようとすると、エラーメッセージが表示される
- [ ] 存在しない記事IDで編集ページにアクセスすると、適切なエラーが表示される

### 学校管理

- [ ] 必須フィールド（学校名、都道府県、スラッグ）が空の場合、エラーメッセージが表示される
- [ ] 重複する学校名で保存しようとすると、エラーメッセージが表示される
- [ ] 重複するスラッグで保存しようとすると、エラーメッセージが表示される

### フロントエンド

- [ ] 存在しない記事スラッグでアクセスすると、404エラーまたは一覧ページにリダイレクトされる
- [ ] ネットワークエラー時に適切なエラーメッセージが表示される

---

## 📊 パフォーマンス確認（オプション）

- [ ] 記事一覧の読み込みが適切な速度である（100件以下で1秒以内が目安）
- [ ] 学校一覧の読み込みが適切な速度である
- [ ] Markdownのレンダリングが適切な速度である（長い記事でも数秒以内）

---

## ✅ 確認完了後のチェック

すべての項目を確認したら、以下を確認してください：

- [ ] 主要な機能がすべて動作する
- [ ] エラーが発生しない
- [ ] データの整合性が保たれている
- [ ] ユーザー体験に問題がない

問題が発見された場合は、エラーメッセージやスクリーンショットを保存して、開発者に報告してください。













