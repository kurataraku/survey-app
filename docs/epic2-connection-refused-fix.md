# Epic2: "接続が拒否されました" エラーの解決方法

## 問題

ブラウザで`http://localhost:3001/schools`にアクセスすると、「接続が拒否されました」（ERR_CONNECTION_REFUSED）というエラーが表示される。

## 原因

開発サーバーが完全に起動していない可能性があります。

## 解決方法

### Step 1: ターミナルの出力を確認

1. **Cursorのターミナルウィンドウを確認**
   - 開発サーバーを起動したターミナルウィンドウを見る

2. **「✓ Ready」というメッセージが表示されているか確認**
   - 完全に起動している場合、以下のようなメッセージが表示されます：
     ```
     ✓ Ready in Xms
     ```

3. **エラーメッセージがないか確認**
   - ターミナルにエラーメッセージ（赤い文字など）が表示されていないか確認

### Step 2: 開発サーバーが起動しているか確認

ターミナルに「✓ Ready」というメッセージが表示されていない場合：

1. **ターミナルの出力をスクロール**
   - ターミナルをスクロールして、最新のメッセージを確認

2. **エラーメッセージの内容を確認**
   - エラーが表示されている場合、その内容を確認

3. **開発サーバーを再起動**
   - `Ctrl + C`を押して停止
   - `npm run dev`を再度実行

### Step 3: 別のポートで試す

ポート3001でも問題が発生する場合、別のポートで試してください：

```cmd
npm run dev -- -p 3002
```

その後、`http://localhost:3002/schools`にアクセスしてください。

## よくある問題

### 問題1: 「✓ Ready」が表示されない

**原因**: 開発サーバーが起動に失敗している可能性があります。

**解決方法**:
1. ターミナルのエラーメッセージを確認
2. エラーの内容に応じて対処

### 問題2: ビルドエラーが発生している

**原因**: TypeScriptのコンパイルエラーやその他のビルドエラーが発生している可能性があります。

**解決方法**:
1. ターミナルのエラーメッセージを確認
2. エラーの内容を修正

### 問題3: 環境変数が正しく読み込まれていない

**原因**: `.env.local`ファイルが正しく読み込まれていない可能性があります。

**解決方法**:
1. `.env.local`ファイルがプロジェクトルートにあることを確認
2. ファイル名が`.env.local`であることを確認（`.env.local.txt`ではない）
3. 開発サーバーを再起動

## 確認チェックリスト

- [ ] ターミナルに「✓ Ready」というメッセージが表示されている
- [ ] ターミナルにエラーメッセージが表示されていない
- [ ] 開発サーバーが完全に起動するまで待った（数秒〜数十秒かかる場合があります）
- [ ] ブラウザで正しいURL（`http://localhost:3001`）にアクセスしている






